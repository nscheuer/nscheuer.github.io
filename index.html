<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Niclas Scheuer</title>

  <style>
    :root {
      --bg: #0b0d10;
      --fg: #e5e7eb;
      --muted: #a1a1aa;
      --link: #93c5fd;
      --line: #1f2937;
      --card: #0f1318;
      --cardBorder: #1b2330;
      --shadow: rgba(0,0,0,0.35);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #ffffff;
        --fg: #0b0d10;
        --muted: #475569;
        --link: #1d4ed8;
        --line: #e5e7eb;
        --card: #ffffff;
        --cardBorder: #e5e7eb;
        --shadow: rgba(0,0,0,0.08);
      }
    }

    html, body {
      background: var(--bg);
      color: var(--fg);
      margin: 0;
      padding: 0;
      font: 16px/1.6 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
            Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji",
            "Segoe UI Emoji", "Segoe UI Symbol";
      text-rendering: optimizeLegibility;
    }

    /* =========================
       HERO BACKGROUND (VIDEO)
       Only behind: title + intro
       ========================= */
    .hero-bg {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      max-width: 950px;
      padding: 0 18px;
    }

    .hero-bg .bg-video {
      position: absolute;
      inset: 0;
      z-index: 0;
      overflow: hidden;
      background: radial-gradient(circle at 50% 30%, #0f172a 0%, #020617 70%);
    }

    .hero-bg .bg-video video {
      width: 100%;
      height: 100%;
      object-fit: cover;

      /* Fade-in setup */
      opacity: 0;
      transition: opacity 900ms ease;
      filter: saturate(1.1) contrast(1.05);
    }

    /* When JS marks it ready */
    .hero-bg .bg-video.ready video {
      opacity: 0.35;
    }

    /* Dark overlay for readability */
    .hero-bg .bg-video::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        ellipse at center,
        rgba(0,0,0,0.25) 0%,
        rgba(0,0,0,0.55) 70%
      );
      pointer-events: none;
    }

    /* Foreground content inside hero */
    .hero-content {
      position: relative;
      z-index: 1;
      padding: 0; /* keep your existing spacing inside children */
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .hero-bg .bg-video video { display: none; }
      .hero-bg .bg-video::after {
        background: rgba(0,0,0,0.55);
      }
    }

    /* =========================
       GENERAL LAYOUT
       ========================= */
    .wrap {
      max-width: 950px;
      margin: 0 auto;
      padding: 0 18px 40px;
    }

    .header {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 28px;
      padding-top: 40px;
    }

    h1 {
      margin: 0 0 6px 0;
      font-weight: 700;
      letter-spacing: 0.2px;
      font-size: clamp(28px, 5vw, 56px);
      line-height: 1.1;
    }

    .subtitle {
      font-size: clamp(16px, 2.5vw, 22px);
      color: var(--muted);
      margin-bottom: 8px;
    }

    .affiliations a {
      color: var(--link);
      text-decoration: none;
      border-bottom: 2px solid currentColor;
      padding-bottom: 2px;
    }
    .affiliations a:hover { opacity: 0.9; }

    .avatar {
      width: clamp(120px, 22vw, 220px);
      height: clamp(120px, 22vw, 220px);
      border-radius: 50%;
      object-fit: cover;
      filter: saturate(1.05);
      box-shadow: 0 8px 24px var(--shadow);
    }

    hr {
      border: none;
      height: 1px;
      background: var(--line);
      margin: 10px auto;
      max-width: 650px;
    }

    .intro {
      max-width: 75ch;
      margin-left: 2rem;
      font-size: clamp(16px, 2.1vw, 19px);
      padding-bottom: 8px;
    }

    .links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin: 18px 0;
    }
    .links a {
      color: var(--link);
      text-decoration: none;
      font-weight: 500;
      border-bottom: 2px solid transparent;
      padding-bottom: 2px;
    }
    .links a:hover { border-color: currentColor; }

    /* =========================
       MODE SWITCH + PANELS
       These should stay on solid background
       ========================= */

    /* Solid background block starting at the mode switch (what you asked for) */
    .solid-section {
      background: var(--bg);
      border-top: 1px solid var(--line);
      margin-top: 28px;
      padding-top: 18px;
    }

    .mode-switch {
      display: flex;
      justify-content: center;
      gap: clamp(2.5rem, 6vw, 5rem);
      margin: 14px 0 26px;
    }

    .mode-switch .mode {
      background: none;
      border: none;
      font: inherit;
      font-size: clamp(20px, 3vw, 24px);
      color: var(--muted);
      cursor: pointer;
      padding: 6px 0;
      border-bottom: 2px solid transparent;
    }

    .mode-switch .mode.active {
      color: var(--fg);
      border-color: var(--fg);
      font-weight: 600;
    }

    .mode-switch .mode:hover {
      color: var(--fg);
    }

    .mode-panel { display: none; }
    .mode-panel.active { display: block; }

    /* Projects / cards */
    .project {
      background: var(--card);
      border: 1px solid var(--cardBorder);
      border-radius: 16px;
      box-shadow: 0 8px 20px var(--shadow);
      padding: 14px 16px;
      margin: 14px 0;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 14px;
      cursor: pointer;
      transition: transform .06s ease, box-shadow .12s ease, border-color .12s ease;
    }
    .project:hover { transform: translateY(-1px); }
    .project:focus-within, .project:focus-visible { outline: 2px solid var(--link); }

    .project .meta { min-width: 0; }
    .project .title {
      font-weight: 650;
      font-size: 1.05rem;
      margin: 0 0 4px 0;
    }
    .project .short {
      color: var(--muted);
      margin: 0;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .project img.thumb {
      background: #e8eaef;
      width: min(300px, 40vw);
      height: min(120px, 20vw);
      object-fit: cover;
      border-radius: 12px;
      border: 1px solid var(--cardBorder);
    }

    .project .expand {
      grid-column: 1 / -1;
      display: none;
      margin-top: 8px;
      color: var(--fg);
    }
    .project.open .expand { display: block; }

    .project.open .short {
      white-space: normal;
      overflow: visible;
      text-overflow: clip;
    }

    .project .expand .long {
      margin-top: 6px;
      color: var(--fg);
    }

    .toggle-button {
      position: absolute;
      left: -9999px;
    }

    @media (max-width: 720px) {
      .header { grid-template-columns: 1fr; }
      .avatar { justify-self: start; }
      .intro { margin-left: 0.75rem; }
      .project { grid-template-columns: 1fr; }
      .project img.thumb { width: 100%; height: 180px; }
    }
  </style>
</head>

<body>

  <!-- HERO (video background ONLY here) -->
  <section class="hero-bg" aria-label="Hero section">
    <div class="bg-video" id="bgVideo">
      <video
        id="heroVideo"
        autoplay
        muted
        loop
        playsinline
        preload="metadata"
        poster="media/bg-poster.webp"
      >
        <source src="pictures/video/bg.webm" type="video/webm">
        <source src="pictures/video/Home_compressed.mp4" type="video/mp4">
      </video>
    </div>

    <div class="hero-content">
      <div class="wrap">
        <section class="header">
          <div>
            <h1>Niclas Scheuer</h1>
            <div class="subtitle">Master's student in Mechanical Engineering (Robotics &amp; Control)</div>
            <div class="affiliations">
              <a href="https://www.mit.edu/" rel="noopener">MIT</a>
              &nbsp;&nbsp;·&nbsp;&nbsp;
              <a href="https://ethz.ch/en.html" rel="noopener">ETH Zürich</a>
            </div>
          </div>
          <img class="avatar" src="pictures/me.avif" alt="Niclas Scheuer" loading="lazy" decoding="async" fetchpriority="high">
        </section>

        <hr>

        <p class="intro">
          I am a mechanical engineering student at ETH Zürich, specializing in control systems and robotics with a strong interest in space technology. I enjoy bridging the gap between theory and practice; from building and validating 6-DOF simulation models and autonomous control pipelines to designing hybrid locomotion systems for robots. I enjoy tackling multidisciplinary challenges at the intersection of control, mechatronics, and software, and I am particularly motivated by applications in aerospace and next-generation robotic systems.
        </p>

        <hr>

        <nav class="links" aria-label="Profile links">
          <a href="https://www.linkedin.com/in/n-scheuer/">LinkedIn</a>
          <a href="pictures/cv_niclas_scheuer.pdf" target="_blank" rel="noopener">CV</a>
          <a href="https://github.com/nscheuer">GitHub</a>
        </nav>
      </div>
    </div>
  </section>

  <!-- Solid background from here down -->
  <section class="solid-section">
    <main class="wrap">
      <hr>

      <nav class="mode-switch" role="tablist" aria-label="Content selection">
        <button class="mode active" data-target="industry" role="tab" aria-selected="true">
          Industry
        </button>
        <button class="mode" data-target="projects" role="tab" aria-selected="false">
          Projects
        </button>
        <button class="mode" data-target="education" role="tab" aria-selected="false">
          Education
        </button>
      </nav>

      <section class="mode-panel active" id="industry">
        <div id="industry-list"></div>
      </section>

      <section class="mode-panel" id="projects">
        <div id="project-list"></div>
      </section>

      <section class="mode-panel" id="education">
        <div id="education-list"></div>
      </section>
    </main>
  </section>

  <script>
    // Smooth fade-in once the video can play (or has loaded enough to start).
    (function () {
      const container = document.getElementById('bgVideo');
      const video = document.getElementById('heroVideo');
      if (!container || !video) return;

      // If reduced motion, don't bother.
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        return;
      }

      const markReady = () => container.classList.add('ready');

      // If it already has enough data
      if (video.readyState >= 2) {
        markReady();
      } else {
        video.addEventListener('loadeddata', markReady, { once: true });
        video.addEventListener('canplay', markReady, { once: true });
      }

      // Some browsers block autoplay in edge cases; still show poster gracefully.
      video.play().catch(() => {
        // Keep poster; you could optionally still markReady() if you want it visible.
        markReady();
      });
    })();
  </script>

  <script>
    /**
     * Add, remove, or reorder project pages here.
     * Each URL should point to a standalone HTML file like the template below.
     */
    const INDUSTRY = [
      'projects/industry/starlab.html',
      'projects/industry/ssc.html',
      'projects/industry/mitrt.html',
      'projects/industry/ta.html',
      'projects/industry/rfa.html'
    ];

    const PROJECTS = [
      'projects/projects/beavercube2.html',
      'projects/projects/leonird.html',
      'projects/projects/amundsen.html',
      'projects/projects/minimal-robot.html',
      'projects/projects/bottleneck.html',
      'projects/projects/k3s-server.html'
    ];

    const EDUCATION = [
      'projects/mit-exchange.html'
    ];

    // Fetch each project file, extract its fields, then render.
    async function loadProjectList(containerId, urls) {
      const list = document.getElementById(containerId);
      for (const url of urls) {
        try {
          const res = await fetch(url, { cache: 'no-store' });
          if (!res.ok) throw new Error(res.status + ' ' + res.statusText);
          const html = await res.text();
          const doc = new DOMParser().parseFromString(html, 'text/html');

          const node = doc.querySelector('article#project');
          if (!node) throw new Error('No <article id="project"> found in ' + url);

          const title = node.dataset.title?.trim() || 'Untitled project';
          const short = node.dataset.short?.trim() || '';
          const image = node.dataset.image?.trim() || '';
          const imageAlt = node.dataset.imageAlt?.trim() || title;
          const longHTML = (node.querySelector('.long')?.innerHTML || '').trim();

          list.appendChild(renderProject({ title, short, image, imageAlt, longHTML, url }));
        } catch (err) {
          console.error('Project load failed:', url, err);
        }
      }
    }

    function renderProject(p) {
      const wrap = document.createElement('article');
      wrap.className = 'project';
      wrap.setAttribute('role', 'button');
      wrap.setAttribute('tabindex', '0');
      wrap.setAttribute('aria-expanded', 'false');
      wrap.setAttribute('aria-label', p.title);

      wrap.innerHTML = `
        <input class="toggle-button" type="checkbox" aria-hidden="true">
        <div class="meta">
          <div class="title">${p.title}</div>
          <p class="short">${p.short}</p>
        </div>
        ${p.image ? `<img class="thumb" src="${p.image}" alt="${p.imageAlt}" loading="lazy" decoding="async">` : ``}
        <div class="expand" hidden>
          <div class="long">${p.longHTML}</div>
        </div>
      `;

      const expandEl = wrap.querySelector('.expand');

      function toggle(open) {
        const isOpen = open ?? !wrap.classList.contains('open');
        wrap.classList.toggle('open', isOpen);
        wrap.setAttribute('aria-expanded', String(isOpen));
        if (expandEl) expandEl.hidden = !isOpen;
      }

      wrap.addEventListener('click', (e) => {
        const a = e.target.closest('a');
        if (a) return;
        toggle();
      });
      wrap.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggle();
        }
      });

      return wrap;
    }

    loadProjectList('industry-list', INDUSTRY);
    loadProjectList('project-list', PROJECTS);
    loadProjectList('education-list', EDUCATION)
  </script>

  <script>
    const buttons = document.querySelectorAll('.mode-switch .mode');
    const panels = document.querySelectorAll('.mode-panel');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.dataset.target;

        buttons.forEach(b => {
          b.classList.toggle('active', b === btn);
          b.setAttribute('aria-selected', b === btn);
        });

        panels.forEach(p => {
          p.classList.toggle('active', p.id === target);
        });
      });
    });
  </script>
</body>
</html>
